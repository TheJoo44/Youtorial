{% extends 'base_min.html' %}

{% block content %}
    <h2 class="center">{{ tutorial.title }}</h2>
    {% if tutorial.video_url %}
    <div class="row">
        <div class="col l6 s12 right">
                {% if 'youtube' in tutorial.video_url%}
                  <iframe width="800px" height="600px" src="{{tutorial.video_url}}">
                  </iframe>
                {% else %}
                  <video id="video_player" class="responsive-video" controls>
                  <source src="{{ tutorial.video_url }}" type="video/mp4">
                  <source src="{{ tutorial.video_url }}" type="video/ogg">
                Your browser does not support the video tag.
                </video>
                {% endif %}
                
        </div>
      <div class="col l6 s12 left" style="margin-left:px; ">
              <div class="card-content" style="max-height: 800px" overflow-y: scroll;>
                <div class="chip">
                    <img src="{{photo.url}}" alt="">
                    
                    {{ tutorial.user.first_name}} {{tutorial.user.last_name}}
                  </div>
                   {% if user.id == tutorial.user.id %}
                  
                  <div class="right">
                    <a href="" class="btn-floating grey right waves-effect waves-light tooltipped" data-position="left" data-tooltip="You can't save this!"><i class="material-icons">favorite</i></a>
                  </div>
                  
                  {% elif user in stats %}

                  <div class="right">
                    <a href="{% url 'unsave_tutorial' tutorial.id%}" class="btn-floating grey right waves-effect waves-light tooltipped" data-position="left" data-tooltip="Unsave This!"><i class="material-icons">favorite</i></a>
                  </div>
                  
                  
                  {% else %}
                  <div class="right">
                    <a href="{% url 'save_tutorial' tutorial.id%}" class="btn-floating pink right waves-effect waves-light tooltipped" data-position="left" data-tooltip="Save For Later"><i class="material-icons">favorite</i></a>
                  </div>



                  {% endif %}
                 
                <hr>
                 
                <p class="textwrap" style="word-wrap: break-word;" id="tutorial_content"> {{ tutorial.content | safe}}</p>
              </div>
          </div>
    </div>
    {% else %}
    <div class="row">
    <div class="col s12 left">
            <div class="card-content" style="word-wrap: break-word">
               <div class="chip">
                  <img src="{{photo.url}}" alt="">
                  {{ tutorial.user.first_name}} {{tutorial.user.last_name}}
                  
                </div>
                  
                  {% if user.id == tutorial.user.id %}
                  
                  <div class="right">
                    <a href="" class="btn-floating grey right waves-effect waves-light tooltipped" data-position="left" data-tooltip="You can't save this!"><i class="material-icons">favorite</i></a>
                  </div>
                  
                  {% elif user in stats %}

                  <div class="right">
                    <a href="{% url 'unsave_tutorial' tutorial.id%}" class="btn-floating grey right waves-effect waves-light tooltipped" data-position="left" data-tooltip="Unsave This!"><i class="material-icons">favorite</i></a>
                  </div>
                  
                  
                  {% else %}
                  <div class="right">
                    <a href="{% url 'save_tutorial' tutorial.id%}" class="btn-floating pink right waves-effect waves-light tooltipped" data-position="left" data-tooltip="Save For Later"><i class="material-icons">favorite</i></a>
                  </div>



                  {% endif %}
              <hr>
              <p class="textwrap" style="word-wrap: break-word">{{ tutorial.content | safe}}</p>
            </div>
          </div>
    </div>
  
    
    {% endif %} 
    <script>
  document.addEventListener('DOMContentLoaded', function() {
    var elems = document.querySelectorAll('.tooltipped');
    var instances = M.Tooltip.init(elems);
  });
  
</script>
{% endblock  %}